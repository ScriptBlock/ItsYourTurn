extends layout

block content
    nav(class="navbar navbar-expand-md navbar-dark fixed-top bg-dark")
        if !isDMChosen
            span(class="navbar-brand mb-0 h1") Hello #{s.userName}
            form(action="/claimdm", method="POST")
                button(class="btn btn-outline-success") Claim DM
        if isDMChosen && s.isDM
            span(class="navbar-brand mb-0 h1") [DM] Hello #{s.userName} 
            form(action="/releasedm", method="POST")
                div.container
                    button(class="btn btn-outline-success") Release DM
        if s.charName != null && s.charName != ""
            form(action="/releasechar", method="POST")
                div.container
                    button(class="btn btn-outline-success") Release #{s.charName}



    main.container(role="main")
        div(class="row")
            div(class="col-sm")
                h2(class="text-center") Initiative
                if initiative == null
                    div.container(class="mb-1") Start a new...
                    form(action="/newinitiative", method="POST")
                        button(class="btn btn-outline-success btn-block" name="mode" value="dnd") D&D Style
                        button(class="btn btn-outline-success btn-block" name="mode" value="clock8") 8 Round Clock Style
                        button(class="btn btn-outline-success btn-block" name="mode" value="clock10") 10 Round Clock Style
                        button(class="btn btn-outline-success btn-block" name="mode" value="clock12") 12 Round Clock Style
                else          
                    ul.list-group
                        li(class="list-group-item") Item 1
                        li(class="list-group-item") Item 2
                        li(class="list-group-item") Item 3
                        li(class="list-group-item") Item 4
                        li(class="list-group-item") Item 5

            div(class="col-sm justify-content-center") 
                h2(class="text-center") Controls
                form(action="/movecharacter/:charname/to-segmentnumber_or_maybe_relative-number", method="POST")
                    button(class="btn btn-outline-success btn-block") Move ▲
                    button(class="btn btn-outline-success btn-block") Move ▼

            div(class="col-sm")
                h2(class="text-center") Active Players
                ul.list-group
                    each user in loggedOnUsers
                        li(class="list-group-item d-flex justify-content-between align-iitems-center ") #{user.charName}
                            span(class="badge badge-primary badge-pill") #{user.userName}
